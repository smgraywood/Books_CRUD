<!DOCTYPE html>
<html lang="en">
<%- include('../partials/head') %>
<body>
    <%- include('../partials/header') %>
    <section class="books-on-shelf">
        <div id="stack-container">
            <div class="book-in-stack" id="book-1"></div>
            <div class="book-in-stack" id="book-2">
                <%# I don't know how to access stack name below yet %>
                <button id="stack-button"> <%= stack.name %> </button>
            </div>
            <div class="book-in-stack" id="book-3"></div>
        </div>

        <img
            src="images/small-plant.png"
            alt="a small cartoon pothos plant in a brown pot"
            id="small-plant"
        />

        <div id="stack-container">
            <div class="book-in-stack" id="book-1"></div>
            <div class="book-in-stack" id="book-2">
                <button id="stack-button">ALL THE STACKS</button>
            </div>
            <div class="book-in-stack" id="book-3"></div>
        </div>
    </section>

    <h3><%= stack.name %></h3>
    <button>Update</button>
    <button>Delete</button>

    <div>
        <%# forEach loop within div will need adjustment %>
        <ul>
            <% stacks.books.forEach(book => { %>
                <li><a href="/books/<%= book._id %>"><%= book.title %></a></li>
            <% }) %>
        </ul>
        
        <form action="/stacks/<%=stack._id %>/books" method="POST">
            <select name="bookId">
                <%- books.map(b => `<option value="${b._id}">{b.name}</option>`) %>
            </select>
            <button type="submit">Add to Stack</button>
        </form>
    </div>

    <img
            class="large-plant-all-pages"
			src="images/large-plant.png"
			alt="a large cartoon monstera plant in a blue pot"
		/>

    <%- include('../partials/footer') %>
</body>
</html>